# Kubernetes中Pod和容器的区别

1. 概述

    Kubernetes是一个开源的容器编排平台。它消除了与部署和扩展容器化应用程序有关的手动过程。此外，这个系统允许你通过称为pod的小单元来管理和协调机器集群上的容器化应用。一个pod通常包括几个容器，它们共同构成一个功能单元。
    在这篇文章中，我们将学习Kubernetes中pod和容器之间的区别。
2. 容器

    容器Containers是标准化的可执行组件，它结合了应用程序的源代码和操作系统库。容器可以是一个数据库，一个网络应用程序，或一个后台服务...
    在Kubernetes中，每个容器都与其他进程隔离，并在一台计算机、物理服务器或虚拟机上运行。此外，容器是相当轻量级、快速和可移植的，因为与虚拟机不同，容器不需要在每个实例中包含操作系统，而是可以利用主机操作系统的功能和资源。
3. Pods
    Pod是Kubernetes的基本要素之一，因为它是开发者可能操纵的主要组件。它代表了在一个集群节点内运行的一组进程。因此，一个pod是Kubernetes应用程序的基本执行单元。它是最小和最简单的对象模型。一个节点内的pod具有：

    - 一个本地IP地址。
    - 一个或多个Linux容器。例如，Docker通常被用作容器运行时间。
    - 一个或多个与这些容器相关的卷是持久的存储资源。
4. Pod和容器之间有什么区别？

    因为我们不应该把多个进程打包到一个容器中，所以我们需要一个更高层次的结构，让我们把容器捆绑和包裹起来，作为一个单元来管理。这就是Pod背后的道理。简单地说，一个Kubernetes pod是一个容器的集合。
    此外，一个容器pod允许它一起运行密切相关的进程。并为它们提供几乎相同的环境，就像它们都在一个容器中运行一样，同时使它们实际上是隔离的。这样，我们就可以得到两个世界的最好结果。我们可以利用容器提供的所有功能，同时给进程带来一起工作的错觉。
    Pods为其容器提供两种类型的共享资源：网络和存储。
    1. 网络
        Kubernetes中的每个Pod都由一个唯一的IP地址来识别。此外，所有Pod容器共享相同的网络命名空间，包括IP地址和网络端口。
        为了在pod内部通信，容器可以简单地使用localhost进行交换。然而，当Pod容器与Pod外的组件通信时，它们必须共享如何使用网络资源，如端口。
    2. 存储
        我们可以为一个pod实例化一组共享存储卷，它将被其所有的容器访问。这个功能允许容器有效地共享数据。另外，存储卷允许pod的持久化数据在其中一个容器出现问题时继续存在。
5. Pods和容器的生命周期
    Kubernetes自动管理容器的生命周期，并将它们分布在整个托管基础设施中。此外，它还具有在容器失败时自动重启的能力。Kubernetes通过[重启策略](https://www.baeldung.com/spring-boot-kubernetes-self-healing-apps)提供这一功能，它允许用户定义何时重启一个pod的容器。
    让我们来看看一个pod与容器有关的不同状态：

    - Pending 待定状态：当一个pod被创建时，首先发生的事情是它进入了一个叫做待定的状态。在这种状态下，pod已经准备好运行，但还没有被分配到服务器上。可能有几台机器已经准备好接收这个pod了。调度器的作用是检查pod的资源需求（CPU容量、内存等），并将其分配给一个特定的机器。
    - Running 运行状态：当一个pod被分配到一台机器上，组成pod的容器镜像已经被下载，并且所有的容器已经被启动时，就达到了这个状态。
    - Succeeded 成功状态：当pod中的所有容器都被成功停止并且不打算重新启动时，就会出现这种状态。
    - Failed 失败状态：当pod中的所有容器都被停止，并且至少有一个容器因错误而终止时，就会达到这个状态。
    - Unknown 未知状态：这主要发生在pod无法与它应该运行的节点通信的时候。在这种情况下，不可能知道pod的状态。
6. 总结

    在这篇文章中，我们首先了解了pod和容器。其次，我们讨论了Kubernetes中pod和容器之间的区别。最后，我们解释了pod和容器的生命周期，以及pod的不同状态，它直接受到所持容器状态的影响。

## Relevant Articles

- [x] [Difference Between Pod and Container in Kubernetes](https://www.baeldung.com/ops/kubertenes-pod-vs-container)
